#:kivy 1.0.9


<Fly_b>:
    btn: button_widget
    koi: koi_draw
    Button:
        id: button_widget
        text: str(self.parent.angle_prop)
        pos: self.parent.pos
        size: 300,300
        on_press: root.callback(root)
        background_color: 0, 0, 0, 0
        canvas.before:
            PushMatrix
            Rotate:
                angle: self.parent.angle
                axis: (0, 0, 1)
                origin: self.center
        canvas.after:
            PopMatrix
        Image:
            id: koi_draw
            pos: self.parent.pos
            size: 300, 300
            allow_stretch: True
            source: "resources/koi.png"
            angle: root.angle

<FlyGame>:
    fly_b: Fly_button
    FloatLayout:
        size: self.parent.width, self.parent.height
        canvas:
            Rectangle:
                pos: 0, 0
                size: self.width, self.height
                source: "resources/bg1.jpg"
        Fly_b:
            id: Fly_button